<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <script>
    // 인덱스 값에 의해 정렬되는 데이터 Collection. 배열과 유사 배열 구조인 Array, TypedArray를 포함.
    // 자바스크립트는 동적 형지정 언어라서 선언된 배열은 원소마다 타입이 다르게 할당 될 수 있다.

    const arr1 = new Array(0, 1, 2, 3, 4, 5, 6, 7, 8, 9);
    const arr2 = Array(0, 1, 2, 3, 4, 5, 6, 7, 8, 9);
    const arr3 = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9];

    // 크기를 가진 배열 선언, 값은 모두 undefined로 초기화 됨.
    const arr4 = new Array(10);
    const arr5 = Array(10);
    const arr6 = [];
    arr6.length = 10;
    arr6[0] = 'Indiana'; arr6[1] = 'Miami'; arr6[2] = 'Huston';
    arr6[3.4] = "OrangeCounty"; // key, value형태 => forin문에서 접근 가능.

    for (let i = 0; i < arr6.length; i++) {
      const element = arr6[i];
      if (element) console.log(element);  //3개의 값만 출력
    }
    for (const key in arr6) {
      if (Object.hasOwnProperty.call(arr6, key)) {
        const element = arr6[key];
        console.log(element);
      }
    }
    console.log(Object.hasOwnProperty(arr6, 3.4));

    // 객체의 속성에 배열을 할당할 수 있다.
    const obj = {};
    obj.prop = [0, 1, 2, 3, 4];
    const obj2 = {prop: [0, 1, 2, 3, 4]}

    const arr7 = Array.of(9.3); //오직 하나의 요소 9.3만을 가진다.

    const arr8 = ["one", "two", "three", arr6, obj2]; //모든 원소의 타입을 가질 수 있다.
    console.log(arr8[2]);
    console.log(arr8['length']);
    arr8.forEach(item => console.log(item));

    const cats = [];
    cats[30] = ['Dusty'];
    console.log(cats.length);  // length속성은 배열에 저장된 가장 큰 인덱스보다 1만큼 큰 값이 된다.
    cats.length = 2;
    console.log(cats[30]); // 배열 크기가 2가 되면서 30번째 요소는 삭제 됨.

    let setA = [1,2,3]; let setB = [4,5,6];
    setA.push(undefined);
    console.log(setA.concat(setB).join("/"));
    setA.pop();setA.pop();  //undefined,3 축출 가장 끝에 있는 요소부터 제거
    console.log(setA);
    setA.shift(); //첫번째 요소를 삭제
    console.log(setA);
    setA.unshift(1); //첫번째 요소를 추가
    console.log(setA);

    let myArray = ["a", "b", "c", "d", "e"];
    myArray = myArray.slice(1,4);
    console.log(myArray);

    console.log(myArray.at(-2)); //끝에서 두번째 반환, 인덱스를 벗어난 경우 undefined를 반환.
    myArray = [1,2,3,4,5]
    myArray.splice(1,3,"a","b","c","d"); //첫번째는 시작위치, 두번째는 삭제 크기, 나머지는 채워지는 원소들
    console.log(myArray);
    console.log(myArray.reverse());
    console.log(myArray.sort());
    const sortFnc = (a,b) => {
      if(a[a.length - 1] < b[b.length -1]){
        return 1;
      } else if(a[a.length - 1] > b[b.length -1]){
        return -1;
      }
      return 0;
    };
    console.log(myArray.sort(sortFnc));

    myArray = [1,2,[3,4]];
    myArray = myArray.flat();
    console.log(myArray);
    console.log(myArray.indexOf(3)); // 값을 찾지 못하면 -1 리턴
    console.log(myArray.lastIndexOf(3));// 값을 찾지 못하면 -1 리턴
    const myArray2 = myArray.map(item => item * 2);
    console.log(myArray2);
    let myArray3 = ["jane", 'mike', 'david', 'charles'];
    myArray3 = myArray3.flatMap(item => [item.toUpperCase(), item.toLowerCase()]);
    console.log(myArray3);
    
    const a1 =['a', 10, "b", 20, "c", 30];
    // filter는 n개가 들어오면 n-m개가 처리될 수 있다. 0 <= m <= n
    const a2 = a1.filter(item => typeof item === "number");
    console.log(a2);
    const i = a1.find(item => typeof item === "number");
    console.log(i); //10
    const i2 = a1.findLast(item => typeof item === "number");
    console.log(i2); //30

    function isNumber(params) {
      return typeof params === "number";
    }
    const b1 = [1,2,3];
    console.log(b1.every(isNumber)); //모든 배열의 원소가 true를 반환하면 true
    function isEven(params) {
      return params%2 == 0;
    }
    console.log(b1.some(isEven));  //배열에서 적어도 callback이 true를 한번이라도 반환하면 true를 반환
    const total = b1.reduce((n1, n2) => n1+n2, 0)
    console.log(total);

    // 희소배열
    const a = Array(5);
    const b = [1,2,,,5];
    const c = [1,2];
    c[4] = 5;  // 1,2, , , 5
    const e = [1,2,3,4,5]
    delete e[2]; // 1,2, , 4,5
    for (const i of e) {
      console.log(i);
    }
    console.log([...e]);

    const twoD = new Array(4);
    for (let i = 0; i < 4; i++) {
      twoD[i] = new Array(4);
      for (let k = 0; k < 4; k++) {
        twoD[i][k] = `[${i}, ${k}]`;
      }
    }
    for (let i = 0; i < 4; i++) {
      let tmp = `Row ${i}: `;
      for (let k = 0; k < 4; k++) {
        tmp += `${twoD[i][k]}  `;
      }
      console.log(tmp);
    }

  </script>
</head>

<body>

</body>

</html>